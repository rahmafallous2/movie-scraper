name: Debug Test

on:
  workflow_dispatch:

jobs:
  debug:
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Setup Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.11'

      - name: List files
        run: |
          echo "Current directory structure:"
          ls -la
          echo "Scrapers directory:"
          ls -la scrapers/ || echo "No scrapers directory"
          echo "Scripts directory:"
          ls -la scripts/ || echo "No scripts directory"

      - name: Check requirements.txt
        run: |
          if [ -f "requirements.txt" ]; then
            echo "requirements.txt exists"
            cat requirements.txt
          else
            echo "❌ requirements.txt missing"
          fi

      - name: Simple Python test
        run: |
          python -c "
          import pandas as pd
          import requests
          print('✅ Pandas and requests work!')
          
          # Create test data
          test_data = {'test': ['data1', 'data2']}
          df = pd.DataFrame(test_data)
          df.to_csv('test_output.csv', index=False)
          print('✅ CSV creation works!')
          "